{% extends "core/dashboard.html" %}
{% block content %}

<div style="
    max-width: 1100px;
    background: #ffffff;
    padding: 30px;
    border-radius: 12px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.08);
">

    <!-- Page Title -->
    <h3 style="
        margin-bottom: 20px;
        font-weight: 600;
        color: #2c3e50;
        border-bottom: 2px solid #198754;
        padding-bottom: 10px;
    ">
        Manage Services
    </h3>

    <!-- Add Service -->
    <h5 style="margin-top: 25px; color:#198754; font-weight:600;">
        âž• Add New Service
    </h5>

    <form method="POST" style="
        background:#f8f9fa;
        padding:20px;
        border-radius:8px;
        margin-top:15px;
    ">
        {% csrf_token %}
        <input type="hidden" name="action" value="add">

        <div style="display:grid; grid-template-columns:1fr 1fr; gap:15px;">
            <input type="text" name="title" placeholder="Service Title"
                style="padding:10px;border-radius:6px;border:1px solid #ced4da;">
            <input type="text" name="description" placeholder="Short Description"
                style="padding:10px;border-radius:6px;border:1px solid #ced4da;">
            <input type="text" name="image_path" placeholder="Image Path (images/s1.jpg)"
                style="padding:10px;border-radius:6px;border:1px solid #ced4da;">
            <input type="text" name="icon_path" placeholder="Icon Path (images/icon.svg)"
                style="padding:10px;border-radius:6px;border:1px solid #ced4da;">
        </div>

        <button type="submit"
            style="
                margin-top:15px;
                background:#198754;
                color:#fff;
                border:none;
                padding:10px 25px;
                border-radius:6px;
                font-weight:500;
                cursor:pointer;
            ">
            Add Service
        </button>
    </form>

    <!-- Existing Services -->
    <h5 style="
        margin-top:40px;
        margin-bottom:15px;
        color:#0d6efd;
        font-weight:600;
    ">
        ðŸ“‹ Existing Services
    </h5>

    {% for service in services %}
    <form method="POST" style="
        background:#ffffff;
        border:1px solid #dee2e6;
        padding:20px;
        border-radius:8px;
        margin-bottom:15px;
    ">
        {% csrf_token %}
        <input type="hidden" name="action" value="update">
        <input type="hidden" name="id" value="{{ service.id }}">

        <div style="display:grid; grid-template-columns:1fr 1fr; gap:15px;">
            <input type="text" name="title"
                value="{{ service.title }}"
                style="padding:10px;border-radius:6px;border:1px solid #ced4da;">
            <input type="text" name="description"
                value="{{ service.description }}"
                style="padding:10px;border-radius:6px;border:1px solid #ced4da;">
            <input type="text" name="image_path"
                value="{{ service.image_path }}"
                style="padding:10px;border-radius:6px;border:1px solid #ced4da;">
            <input type="text" name="icon_path"
                value="{{ service.icon_path }}"
                style="padding:10px;border-radius:6px;border:1px solid #ced4da;">
        </div>

        <div style="margin-top:15px; display:flex; gap:10px;">
            <button type="submit"
                style="
                    background:#0d6efd;
                    color:#fff;
                    border:none;
                    padding:8px 20px;
                    border-radius:6px;
                    cursor:pointer;
                ">
                Update
            </button>

            <a href="?delete={{ service.id }}"
                style="
                    background:#dc3545;
                    color:#fff;
                    padding:8px 20px;
                    border-radius:6px;
                    text-decoration:none;
                ">
                Delete
            </a>
        </div>
    </form>
    {% empty %}
    <p style="color:#6c757d;">No services added yet.</p>
    {% endfor %}

</div>

{% endblock %}
